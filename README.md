# ü•ó Recipe & Grocery Planner - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏ –ø–æ–∫—É–ø–æ–∫

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞–º–∏, –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ —Å–ø–∏—Å–∫–∞–º–∏ –ø–æ–∫—É–ø–æ–∫. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã, —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–∑ –Ω–∏—Ö —Å–ø–∏—Å–∫–∏ –ø–æ–∫—É–ø–æ–∫.


## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

- üìê –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- üóÉÔ∏è –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î —Å SQLAlchemy 2.0  

- üóùÔ∏è –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ `fastapi-users`

- üì¶ API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏

- üìÑ Alembic –º–∏–≥—Ä–∞—Ü–∏–∏

- üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è OpenAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (`/docs`, `/redoc`)

- üê≥ Docker/Docker Compose

- üß™ –Æ–Ω–∏—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã


## üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:

üì¶ API –¥–ª—è —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏ —Å–ø–∏—Å–∫–æ–≤ –ø–æ–∫—É–ø–æ–∫

üßë –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

üîÅ –°–≤—è–∑–∏:
  - `User ‚Üî Profile` (–æ–¥–∏–Ω –∫ –æ–¥–Ω–æ–º—É)  
  - `User ‚Üî Recipes`, `User ‚Üî ShoppingLists` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)  
  - `Recipes ‚Üî Products`, `ShoppingLists ‚Üî Products` (–º–Ω–æ–≥–∏–µ –∫–æ –º–Ω–æ–≥–∏–º)  

üñ•Ô∏è –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (UI)

## üê≥ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å Docker:

### üîπ 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:
```
git clone https://github.com/MaxBakshaev/FastAPI-Recipe-And-Grocery-Planner.git
```
```
cd FastAPI-Recipe-And-Grocery-Planner
```

### üîπ 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è:

–î–ª—è Linux –∏–ª–∏ macOS:
```
mkdir -p app && touch app/.env app/.env.postgres
```
–î–ª—è Windows:
```
type nul > app\.env
type nul > app\.env.postgres
```

### üîπ 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `app/.env`:

3.1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```
APP_CONFIG__DB__URL=postgresql+asyncpg://user:pwd@localhost:5432/DBname
APP_CONFIG__DB__ECHO=1
APP_CONFIG__ACCESS_TOKEN__RESET_PASSWORD_TOKEN_SECRET=
APP_CONFIG__ACCESS_TOKEN__VERIFICATION_TOKEN_SECRET=
```
3.2. ‚úèÔ∏è –ó–∞–º–µ–Ω–∏—Ç–µ –≤ APP_CONFIG__DB__URL:

- `user` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î
- `pwd` ‚Äî –ø–∞—Ä–æ–ª—å
- `DBname` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ë–î

3.3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π –Ω–∏–∂–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ APP_CONFIG__ACCESS_TOKEN__RESET_PASSWORD_TOKEN_SECRET –∏ APP_CONFIG__ACCESS_TOKEN__VERIFICATION_TOKEN_SECRET:

```
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

### üîπ 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `app/.env.postgres`:

4.1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
```
POSTGRES_USER=–≤–∞—à–µ_–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POSTGRES_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å
POSTGRES_DB=–≤–∞—à–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ_–ë–î
```

### üîπ 5. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω. –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–æ–∫–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```
make bup
```
–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```
make stop
```
üìÑ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ `Makefile`.

### üîπ 6. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

üè† –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://127.0.0.1:8000/

üìö Swagger UI: http://127.0.0.1:8000/docs

üìò Redoc: http://127.0.0.1:8000/redoc

### üîπ 7. üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```
make test
```

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker:

### üîπ 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:
```
git clone https://github.com/MaxBakshaev/FastAPI-Recipe-And-Grocery-Planner.git
```
```
cd FastAPI-Recipe-And-Grocery-Planner
```

### üîπ 2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```
python -m venv venv
```

–î–ª—è Linux –∏–ª–∏ macOS:
```
source venv/bin/activate
```
–î–ª—è Windows:
```
venv\Scripts\activate
```

### üîπ 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
pip install -r requirements.txt
```

### üîπ 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

4.1. –°–æ–∑–¥–∞–π—Ç–µ –ë–î –≤—Ä—É—á–Ω—É—é –≤ PostgreSQL.

4.2. –£–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –≤ `app/.env.template`:

‚úèÔ∏è –ó–∞–º–µ–Ω–∏—Ç–µ –≤ APP_CONFIG__DB__URL:

- `user` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î
- `pwd` ‚Äî –ø–∞—Ä–æ–ª—å
- `DBname` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ë–î

4.3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π –Ω–∏–∂–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ APP_CONFIG__ACCESS_TOKEN__RESET_PASSWORD_TOKEN_SECRET –∏ APP_CONFIG__ACCESS_TOKEN__VERIFICATION_TOKEN_SECRET:

```
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

### üîπ 5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ app –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
```
cd app
```
```
alembic upgrade head
```
–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:
```
cd ..
```

### üîπ 6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```
python app/main.py
```

–î–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```
Ctrl + C
```

### üîπ 7. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- üè† –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://127.0.0.1:8000/

- üìö Swagger UI: http://127.0.0.1:8000/docs

- üìò Redoc: http://127.0.0.1:8000/redoc

### üîπ 8. üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```
pytest app/tests
```